#configuration to test EFR monolithic and factorized corrections
process CORRECTIONS = {
  untracked PSet maxEvents = {untracked int32 input = 10}
  source = PoolSource {
     untracked vstring fileNames = {"file:reco.root"}
  }
replace PoolSource.fileNames = {
'/store/mc/2007/5/30/Spring07-QCD_Pt_80_120-1705/0004/00919F4D-6214-DC11-9E41-000E0C3F1A0D.root'
}

  module out = PoolOutputModule
  {
    untracked string fileName = "EMF_Spring07-QCD_Pt_80_120.root"
      untracked vstring outputCommands = {
     "drop *",
     "keep recoCaloJets_*_*_*",
     "keep recoGenJets_*_*_*"
     }
  }



   es_source MCJetCorrectorIcone5 = MCJetCorrectionService {
            string tagName = 'Spring07_Iterative_Cone_05'
            string label = 'MCJetCorrectorIcone5' 
    }

   es_source MCJetCorrector3DIcone5 = MCJetCorrectionService3D {
            string tagName = 'CMSSW_120_3DMC_Iterative_Cone_05'
            string label = 'MCJetCorrector3DIcone5' 
    }

   es_source L4EMFJetCorrectorIcone5 = L4EMFCorrectionService {
            string tagName = 'Spring07_L4EMF_Iterative_Cone_05'
            string label = 'L4EMFJetCorrectorIcone5' 
    }

   es_prefer MCJetCorrectorIcone5 = MCJetCorrectionService {}

	module MCJetCorJetIcone5 = JetCorrectionProducer {
                InputTag src   = iterativeCone5CaloJets
                vstring correctors = {"MCJetCorrectorIcone5"}
                untracked string alias = "MCJetCorJetIcone5"
        }

	module MCJetCorJet3DIcone5 = JetCorrectionProducer {
                InputTag src   = iterativeCone5CaloJets
                vstring correctors = {"MCJetCorrector3DIcone5"}
                untracked string alias = "MCJetCorJet3DIcone5"
        }

	module EMFJetCorJetIcone5 = JetCorrectionProducer {
                InputTag src   = iterativeCone5CaloJets
                vstring correctors = {"MCJetCorrectorIcone5", "L4EMFJetCorrectorIcone5"}
                untracked string alias = "EMFJetCorJetIcone5"
        }


  path p = {MCJetCorJetIcone5, MCJetCorJet3DIcone5, EMFJetCorJetIcone5}

  endpath outpath = {out}
}
