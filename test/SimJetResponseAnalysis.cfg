// Example job to produce Jet Response histograms for JetMETCorrections.
// Authors: Anwar Bhatti and Robert Harris
// Runs on 11,500 events in CSA06 QCD sample for midpoint R=0.5 algorithm.

process ANALYSIS  = {

  source = PoolRASource {
    untracked int32 maxEvents = -1
    untracked vstring fileNames = {
//pthat=0-15
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/EAAA74F7-685E-DB11-8D85-00304875AB55.root',
//
//pthat=15-20
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/98BFC1EC-725E-DB11-BF22-003048754C69.root',
//
//pthat=20-30
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/4067007E-4E5E-DB11-9614-001731A2897B.root',
//
//pthat=30-50
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/484A81F5-BA5E-DB11-8C97-001731A28A31.root',
//
//pthat=50-80
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/BC885565-0960-DB11-AA68-00304875AA73.root',
//
//pthat=80-120
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/EACF204B-4E5E-DB11-AC90-001731AF66AD.root',
//
//pthat=120-170
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/74D10EEB-4D5E-DB11-A93B-001731AF68B3.root',
//
//pthat= 170-230
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/DC5B2AEC-4D5E-DB11-B367-00304875AAED.root',
//
//pthat=230-300
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/B8F0FCFD-0B5F-DB11-B9FD-001731AF684D.root',
//
//pthat=300-380
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/100BD44B-2E5F-DB11-B9C4-001731A283E1.root',
//
//pthat=380-470
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/5E1C0EB8-2260-DB11-9F10-001731A28A31.root',
//
//pthat=470-600
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/8A9085BD-4D5E-DB11-9680-001731A281B1.root',
//
//pthat=600-800
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/88F2DE0E-575E-DB11-988F-001731AF66B7.root',
//
//pthat=800-1000
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/ACE1BB70-735E-DB11-9F98-00304875AADD.root',
//
//pthat=1000-1400
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/5A05192D-4B5F-DB11-8AA5-003048726E5D.root',
//
//pthat=1400-1800
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/487D42DE-6F5E-DB11-9C72-00304875AADD.root',
//
//pthat=1800-2200
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/D286035B-4E5E-DB11-929A-003048767651.root',
//
//pthat=2200-2600
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/BE12FFCE-665E-DB11-B6F3-00304870DEC9.root',
//
//pthat=2600-3000
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/54E9A0A0-F45E-DB11-8575-00304870772D.root',
//
//pthat=3000-3500
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/485CA31F-D05E-DB11-A1C2-00304870D47B.root',
//
//pthat=3500-7000
'/store/CSA06-skim/2006/10/17/CSA06_QCD_SkimI/029831B4-5D5E-DB11-A9C6-001731AF68B9.root'
    }

  }


   module SimJetResponseAnalysis = SimJetResponseAnalysis{
     string recjets = "midPointCone5CaloJets"
     string genjets = "midPointCone5GenJets" 
     string recmet  = "met"
     string genmet  = "genMet"

//   Old ORCA binning for both pt and eta.  
     vdouble GenJetPtBins ={5.0,10.,12.,15.,20.,27.,35.,45.,57.,72.,90.,120.,150.,200.,300.,400.,550.,750.,1000.,1400.,2000.,2900.,4500.,10000.}

//   Write only the +ve bins. Code internally will use same binning for -ve eta side and make separate plots for +ve and -ve sides.
     vdouble RecJetEtaBins ={0.0,0.226,0.441,0.751,0.991,1.260,1.496,1.757,2.046,2.295,2.487,2.690,2.916,3.284,4.,4.4,4.8}

//   Maximum dR between GenJet and RecJet for match.
     double MatchRadius = 0.25

//   Minimum RecJetPt for response histograms
     double RecJetPtMin = 3.0

//   To use only the leading 2 jets set NJetMax=2 
     int32  NJetMax = 100

//   Output histogram file name
     string HistogramFile = 'SimJetResponseMidPoint_R05.root'
   }

  path p1 = {SimJetResponseAnalysis}	
		
}		
